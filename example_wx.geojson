{
    "type": "FeatureCollection",
    "COMMENT": "Locations should be the same across all sources in a single file",
    "COMMENT": "Have to stick to GeoJSON format for this for it to work",
    "features": [
        {
            "COMMENT": "This adds a bit of overhead, but I think it being compatible with GIS systems is worth it",
            "type": "Feature",
            "COMMENT": "GeoJSON specifies points are WGS84 [x, y(, optional z in m)]",
            "geometry": {"type": "Point", "coordinates": [-93, 49, 100]},
            "properties": {
                "COMMENT": "GeoJSON lets you put whatever under the properties section, but we could define what needs to be here",
                "COMMENT": "Name could be optionally included if linked to a specific station",
                "name": "NMR",
                "COMMENT": "If we're going to calculate indices from the weather then we need startup indices. The other option is to precalculate all FWI indices and include them",
                "initial_indices": {"as_of": "2007-06-30 12:00:00 EST", "ffmc": 90, "dmc": 56, "dc": 300},
                "data": {
                    "COMMENT": "I think there's value in keeping the source of the data with the data",
                    "geps": [
                        {
                            "COMMENT": "I think this just collapses directly to the indices if it's not an ensemble?",
                            "COMMENT": "But then we have to worry about some stupid situation where a model member has the same name as an index",
                            "COMMENT": "So I think the correct thing to do is make it a list with one entry if there's no members",
                            "temp": [19.6, 19.9, 21.3, 20.5, 23.1, 18.5, 19.8, 17.5, 18.6, 18.7, 18.8, 15.2],
                            "rh": [50, 53, 60, 59, 43, 40, 49, 44, 48, 41, 49, 55],
                            "ws": [21.4, 22.0, 21.9, 17.7, 21.7, 20.6, 20.9, 22.9, 29.7, 34.0, 25.8, 25.6],
                            "wd": [281, 318, 245, 232, 273, 290, 219, 190, 275, 282, 293, 288],
                            "prec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 6.0, 5.25, 0.0, 0.0, 0.0]
                        }
                    ],
                    "naefs": {
                        "COMMENT": "Want to ensure that format supports ensemble forecasts. Is members the right key to use whether it's ensemble or deterministic?",
                        "COMMENT": "Ensemble members should have names/numbers, but if it's a deterministic forecast is this still a dictionary? If so, what's the key?",
                        "COMMENT": "Or is this always a list, and the name is just an attribute? Might collide with indices name then I guess",
                        "0": {
                            "COMMENT": "Seems redundant to use keys for these when they're all the same, but then we'd have to know the order otherwise",
                            "temp": [20.5, 19.2, 21.1, 20.8, 21.6, 18.6, 18.6, 20.5, 21.5, 19.9, 19.2, 20.4],
                            "rh": [57, 52, 54, 53, 51, 44, 47, 48, 47, 50, 47, 46],
                            "ws": [25.9, 33.1, 25.6, 19.3, 13.1, 18.5, 23.7, 25.4, 29.9, 29.6, 34.4, 24.8],
                            "wd": [233, 211, 257, 270, 252, 264, 265, 269, 262, 261, 305, 272],
                            "prec": [1.5, 0.0, 0.75, 1.5, 0.0, 0.0, 0.0, 1.25, 0.0, 0.0, 0.0, 0.0]
                        },
                        "1": {
                            "temp": [22.0, 19.5, 18.8, 18.4, 21.8, 23.0, 21.5, 21.5, 21.2, 16.7, 21.2, 24.5],
                            "rh": [48, 40, 53, 58, 56, 64, 61, 56, 58, 58, 59, 62],
                            "ws": [20.1, 25.5, 18.6, 14.8, 10.6, 14.8, 23.1, 19.6, 18.8, 19.1, 20.8, 21.0],
                            "wd": [243, 252, 271, 281, 214, 272, 331, 333, 320, 321, 319, 311],
                            "prec": [0.0, 0.25, 1.5, 0.0, 0.0, 0.0, 4.25, 0.0, 0.75, 1.25, 0.0, 0.0]
                        },
                        "control": {
                            "temp": [21.7, 17.7, 16.2, 19.6, 17.8, 21.4, 20.6, 20.9, 20.8, 21.9, 17.4, 17.5],
                            "rh": [43, 48, 43, 48, 48, 47, 51, 47, 43, 50, 51, 55],
                            "ws": [16.3, 17.4, 12.4, 10.5, 17.5, 23.2, 27.8, 24.4, 25.5, 29.1, 14.9, 12.1],
                            "wd": [273, 265, 250, 265, 289, 262, 236, 230, 260, 268, 280, 343],
                            "prec": [0.0, 0.5, 1.5, 1.25, 1.75, 0.5, 0.0, 0.0, 0.0, 1.0, 1.0, 0.0]
                        }
                    }
                }
            }
        },
        {
            "type": "Feature",
            "geometry": {"type": "Point", "coordinates": [-94, 50]},
            "properties": {
                "initial_indices": {"as_of": "2007-06-30 12:00:00 EST", "ffmc": 85, "dmc": 32, "dc": 113},
                "data": {
                    "geps": [
                        {
                            "temp": [22.5, 23.8, 18.1, 18.2, 18.9, 17.5, 21.2, 20.0, 20.1, 22.6, 22.9, 23.2],
                            "rh": [47, 57, 47, 46, 49, 52, 54, 50, 52, 52, 53, 49],
                            "ws": [21.5, 28.4, 30.9, 32.1, 24.5, 19.5, 18.2, 12.9, 11.2, 12.2, 21.7, 9.3],
                            "wd": [250, 271, 263, 312, 236, 249, 244, 225, 280, 267, 244, 235],
                            "prec": [0.0, 0.0, 0.0, 1.25, 2.0, 0.0, 2.5, 1.75, 0.0, 0.0, 2.5, 0.0]
                        }
                    ],
                    "naefs": {
                        "0": {
                            "temp": [20.8, 21.0, 20.8, 20.7, 18.2, 22.4, 25.5, 23.5, 18.1, 23.6, 20.6, 24.8],
                            "rh": [50, 49, 43, 49, 57, 43, 41, 55, 56, 50, 56, 46],
                            "ws": [17.4, 20.0, 21.1, 15.5, 19.2, 13.4, 12.4, 14.7, 20.8, 19.3, 20.7, 23.3],
                            "wd": [262, 305, 301, 231, 272, 282, 289, 277, 280, 334, 289, 258],
                            "prec": [1.5, 0.0, 0.0, 3.75, 2.25, 2.5, 2.75, 1.25, 2.5, 2.75, 2.25, 1.25]
                        },
                        "1": {
                            "temp": [17.7, 22.4, 23.6, 15.8, 19.9, 22.4, 23.6, 22.4, 23.6, 24.8, 26.2, 20.7],
                            "rh": [37, 40, 46, 41, 52, 54, 48, 57, 41, 48, 50, 58],
                            "ws": [18.0, 22.4, 24.2, 22.0, 19.3, 18.8, 28.3, 30.2, 28.8, 30.7, 17.4, 11.3],
                            "wd": [289, 295, 236, 254, 267, 225, 212, 249, 249, 237, 250, 271],
                            "prec": [0.0, 0.0, 1.5, 0.0, 0.0, 0.0, 1.0, 1.5, 0.0, 0.0, 1.25, 1.0]
                        },
                        "control": {
                            "temp": [21.7, 20.5, 19.3, 23.0, 22.9, 23.1, 21.2, 19.5, 20.9, 18.1, 20.4, 22.0],
                            "rh": [45, 46, 46, 51, 42, 50, 50, 44, 46, 57, 52, 49],
                            "ws": [20.5, 21.8, 29.6, 32.2, 36.4, 23.1, 19.3, 16.7, 24.4, 25.9, 23.5, 17.0],
                            "wd": [304, 235, 296, 277, 235, 241, 217, 245, 243, 299, 278, 250],
                            "prec": [1.0, 2.5, 0.75, 1.25, 0.0, 0.0, 0.0, 2.25, 0.0, 0.0, 0.0, 0.0]
                        }
                    }
                }
            }
        }
    ],
    "COMMENT": "Including all non point-specific data in the FeatureCollection makes more sense than repeating it for each point",
    "indices": {
        "COMMENT": "Either we need to include units and heights, or we need to pre-define them for all possible variables",
        "COMMENT": "Or is there some reasonable way to have appropriate defaults if values not specified?",
        "temp": {"units": "C", "height": "2m"},
        "rh": {"units": "%", "height": "2m"},
        "ws": {"units": "km/h", "height": "10m", "note": "10 minute average"},
        "wd": {"units": "degrees", "height": "10m"},
        "prec": {"units": "mm", "height": "surface"}
        "COMMENT": "If you wanted FWI indices, you'd just do the same thing for them as well"
    },
    "COMMENT": "I think just parsing the whole interval string makes more sense than having it be a dictionary with quantity and units",
    "interval": "1 hour",
    "COMMENT": "All sources should have data for the same time period",
    "start": "2007-07-01 00:00:00 GMT",
    "COMMENT": "This isn't strictly required, because it can be calculated based on interval and indices array length, but good to have as a kind of checksum?",
    "end": "2007-07-01 11:00:00 GMT",
    "data": {
        "COMMENT": "I feel like it makes sense to keep common attributes here, instead of duplicating for each point",
        "COMMENT": "The currency of the data is important, but may vary by source",
        "geps": {"as_of": "2007-06-30 12:00:00 GMT"},
        "COMMENT": "I think there's value in keeping the source of the data with the data",
        "naefs": {
            "COMMENT": "May be useful to have full name available?",
            "name": "North American Ensemble Forecast System",
            "as_of": "2007-06-30 18:00:00 GMT",
            "COMMENT": "Should we define what the members are so we can ensure all points have the same ones?",
            "members": ["0", "1", "control"]
        }
    }
}
