{
    "type": "FeatureCollection",
    "COMMENT": "Locations should be the same across all sources in a single file",
    "COMMENT": "Have to stick to GeoJSON format for this for it to work",
    "features": [
        {
            "COMMENT": "This adds a bit of overhead, but I think it being compatible with GIS systems is worth it",
            "type": "Feature",
            "COMMENT": "GeoJSON specifies points are WGS84 [x, y(, optional z in m)]",
            "geometry": {"type": "Point", "coordinates": [-93, 49, 100]},
            "properties": {
                "COMMENT": "GeoJSON lets you put whatever under the properties section, but we could define what needs to be here",
                "COMMENT": "Name could be optionally included if linked to a specific station",
                "name": "NMR",
                "COMMENT": "If we're going to calculate indices from the weather then we need startup indices. The other option is to precalculate all FWI indices and include them",
                "initial_indices": {"as_of": "2007-06-30 12:00:00 EST", "ffmc": 90, "dmc": 56, "dc": 300},
                "data": {
                    "COMMENT": "I think there's value in keeping the source of the data with the data",
                    "idps": [
                        {
                            "COMMENT": "I think this just collapses directly to the indices if it's not an ensemble?",
                            "COMMENT": "But then we have to worry about some stupid situation where a model member has the same name as an index",
                            "COMMENT": "So I think the correct thing to do is make it a list with one entry if there's no members",
                            "temp": [19.6, 19.9, 21.3, 20.5, 23.1, 18.5, 19.8, 17.5, 18.6, 18.7, 18.8, 15.2],
                            "rh": [50, 53, 60, 59, 43, 40, 49, 44, 48, 41, 49, 55],
                            "ws": [21.4, 22.0, 21.9, 17.7, 21.7, 20.6, 20.9, 22.9, 29.7, 34.0, 25.8, 25.6],
                            "wd": [281, 318, 245, 232, 273, 290, 219, 190, 275, 282, 293, 288],
                            "prec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 6.0, 5.25, 0.0, 0.0, 0.0]
                        }
                    ],
                    "iefs": {
                        "COMMENT": "Want to ensure that format supports ensemble forecasts. Is members the right key to use whether it's ensemble or deterministic?",
                        "COMMENT": "Ensemble members should have names/numbers, but if it's a deterministic forecast is this still a dictionary? If so, what's the key?",
                        "COMMENT": "Or is this always a list, and the name is just an attribute? Might collide with indices name then I guess",
                        "0": {
                            "COMMENT": "Seems redundant to use keys for these when they're all the same, but then we'd have to know the order otherwise",
                            "temp": [20.5, 19.2, 21.1, 20.8, 21.6, 18.6],
                            "rh": [48, 52, 54, 49, 48, 50],
                            "ws": [27.5, 22.5, 24.2, 23.6, 21.2, 14.4],
                            "wd": [268, 268, 260, 272, 255, 250],
                            "prec": [2.75, 6.5, 2.75, 0.0, 0.0, 1.0]
                        },
                        "1": {
                            "temp": [21.8, 22.3, 24.0, 23.9, 25.8, 22.0],
                            "rh": [43, 40, 47, 50, 47, 49],
                            "ws": [19.8, 20.1, 18.8, 18.6, 26.0, 20.4],
                            "wd": [287, 240, 265, 281, 234, 253],
                            "prec": [0.0, 1.25, 0.0, 0.0, 0.0, 0.0]
                        },
                        "control": {
                            "temp": [22.0, 19.5, 18.8, 18.4, 21.8, 23.0],
                            "rh": [50, 51, 52, 41, 52, 61],
                            "ws": [18.3, 10.4, 23.3, 28.6, 26.3, 34.0],
                            "wd": [296, 287, 311, 315, 322, 341],
                            "prec": [0.0, 2.75, 0.0, 0.0, 0.0, 0.0]
                        }
                    }
                }
            }
        },
        {
            "type": "Feature",
            "geometry": {"type": "Point", "coordinates": [-94, 50]},
            "properties": {
                "initial_indices": {"as_of": "2007-06-30 12:00:00 EST", "ffmc": 85, "dmc": 32, "dc": 113},
                "data": {
                    "idps": [
                        {
                            "temp": [22.3, 20.4, 19.8, 19.8, 20.4, 20.5, 18.5, 19.0, 20.2, 20.8, 16.3, 20.1],
                            "rh": [60, 60, 58, 58, 58, 56, 52, 51, 53, 50, 48, 48],
                            "ws": [28.8, 17.1, 20.2, 22.2, 15.3, 11.5, 20.0, 12.2, 9.4, 18.5, 14.2, 23.4],
                            "wd": [268, 277, 278, 297, 229, 231, 212, 251, 228, 257, 259, 256],
                            "prec": [1.25, 0.0, 0.0, 1.75, 1.5, 3.0, 0.0, 0.0, 0.0, 0.0, 1.0, 2.75]
                        }
                    ],
                    "iefs": {
                        "0": {
                            "temp": [22.5, 21.4, 22.0, 23.5, 17.9, 16.8],
                            "rh": [50, 49, 46, 49, 53, 48],
                            "ws": [15.1, 13.8, 18.6, 19.8, 21.8, 32.2],
                            "wd": [253, 269, 286, 283, 290, 277],
                            "prec": [0.0, 0.0, 0.0, 1.0, 1.0, 0.0]
                        },
                        "1": {
                            "temp": [22.5, 23.8, 18.1, 18.2, 18.9, 17.5],
                            "rh": [56, 51, 50, 56, 57, 58],
                            "ws": [17.0, 27.6, 17.5, 16.3, 19.6, 22.3],
                            "wd": [291, 266, 282, 284, 290, 267],
                            "prec": [0.75, 4.0, 5.25, 6.0, 2.25, 0.0]
                        },
                        "control": {
                            "temp": [19.4, 17.2, 16.5, 16.9, 20.7, 15.7],
                            "rh": [46, 50, 48, 57, 44, 46],
                            "ws": [17.4, 13.3, 22.1, 19.8, 15.9, 14.3],
                            "wd": [262, 268, 253, 278, 290, 238],
                            "prec": [2.5, 1.75, 0.0, 0.0, 2.5, 0.0]
                        }
                    }
                }
            }
        }
    ],
    "COMMENT": "Including all non point-specific data in the FeatureCollection makes more sense than repeating it for each point",
    "indices": {
        "COMMENT": "Either we need to include units and heights, or we need to pre-define them for all possible variables",
        "COMMENT": "Or is there some reasonable way to have appropriate defaults if values not specified?",
        "temp": {"units": "C", "height": "2m"},
        "rh": {"units": "%", "height": "2m"},
        "ws": {"units": "km/h", "height": "10m", "note": "10 minute average"},
        "wd": {"units": "degrees", "height": "10m"},
        "prec": {"units": "mm", "height": "surface"}
        "COMMENT": "If you wanted FWI indices, you'd just do the same thing for them as well"
    },
    "data": {
        "COMMENT": "I feel like it makes sense to keep common attributes here, instead of duplicating for each point",
        "COMMENT": "If we use the model origin as the epoch time then that doubles as the currency of the data?",
        "idps": {
            "time": {
                "units": "hours",
                "since": "2007-06-30 12:00:00 GMT",
                "COMMENT": "Defining times in relation to the model origin makes the most sense, because that's how model data time is normally referenced",
                "COMMENT": "So these times would be from '2006-07-01 00:00:00 GMT' to '2006-07-02 09:00:00 GMT'",
                "values": [12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42, 45]
            }
        },
        "COMMENT": "I think there's value in keeping the source of the data with the data",
        "iefs": {
            "COMMENT": "May be useful to have full name available?",
            "name": "Imaginary Ensemble Forecast System",
            "time": {
                "units": "hours",
                "since": "2007-06-30 18:00:00 GMT",
                "COMMENT": "just pretend this is 6h interval to show the difference",
                "COMMENT": "These times would be from '2006-07-01 00:00:00 GMT' to '2006-07-02 06:00:00 GMT'",
                "values": [6, 12, 18, 24, 30, 36]
            },
            "COMMENT": "Should we define what the members are so we can ensure all points have the same ones?",
            "members": ["0", "1", "control"]
        }
    }
}
