{
    "title": "Types of values that each member of each source of each Feature will contain",
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "type": "object",
    "minItems": 1,
    "properties": {
        "title": "Predefined indices don't require all fields, but if they're included they must match",
        "temp": {
            "title": "Temperature in Celcius at 2m required for FWI calculations",
            "oneOf": [
                {
                    "const": "Temperature"
                },
                {
                    "type": "object",
                    "required": [
                        "name"
                    ],
                    "properties": {
                        "name": {
                            "const": "Temperature"
                        },
                        "units": {
                            "const": "C"
                        },
                        "height": {
                            "const": "2m"
                        }
                    },
                    "additionalProperties": false
                },
                {
                    "const": true
                }
            ]
        },
        "rh": {
            "title": "Relative Humidity at 2m required for FWI calculations",
            "oneOf": [
                {
                    "const": "Relative Humidity"
                },
                {
                    "type": "object",
                    "required": [
                        "name"
                    ],
                    "properties": {
                        "name": {
                            "const": "Relative Humidity"
                        },
                        "units": {
                            "const": "%"
                        },
                        "height": {
                            "const": "2m"
                        }
                    },
                    "additionalProperties": false
                },
                {
                    "const": true
                }
            ]
        },
        "ws": {
            "title": "10-minute Wind Speed in km/h at 10m required for FWI calculations",
            "oneOf": [
                {
                    "const": "Wind Speed"
                },
                {
                    "type": "object",
                    "required": [
                        "name"
                    ],
                    "properties": {
                        "name": {
                            "const": "Wind Speed"
                        },
                        "units": {
                            "const": "km/h"
                        },
                        "height": {
                            "const": "10m"
                        },
                        "note": {
                            "const": "10 minute average"
                        }
                    },
                    "additionalProperties": false
                },
                {
                    "const": true
                }
            ]
        },
        "prec": {
            "title": "Accumulation in mm for previous period is required for FWI calculations",
            "oneOf": [
                {
                    "const": "Precipitation"
                },
                {
                    "type": "object",
                    "required": [
                        "name"
                    ],
                    "properties": {
                        "name": {
                            "const": "Precipitation"
                        },
                        "units": {
                            "const": "mm"
                        },
                        "height": {
                            "const": "surface"
                        },
                        "note": {
                            "const": "Accumulation during previous interval"
                        }
                    },
                    "additionalProperties": false
                },
                {
                    "const": true
                }
            ]
        },
        "wd": {
            "title": "Wind Direction in degrees required for fire growth modelling",
            "oneOf": [
                {
                    "const": "Wind Direction"
                },
                {
                    "type": "object",
                    "required": [
                        "name"
                    ],
                    "properties": {
                        "name": {
                            "const": "Wind Direction"
                        },
                        "units": {
                            "const": "degrees"
                        },
                        "height": {
                            "const": "10m"
                        }
                    },
                    "additionalProperties": false
                },
                {
                    "const": true
                }
            ]
        },
        "wg": {
            "title": "Wind Gust Speed in km/h at 10m",
            "oneOf": [
                {
                    "const": "Wind Gust Speed"
                },
                {
                    "type": "object",
                    "required": [
                        "name"
                    ],
                    "properties": {
                        "name": {
                            "const": "Wind Gust Speed"
                        },
                        "units": {
                            "const": "km/h"
                        },
                        "height": {
                            "const": "10m"
                        }
                    },
                    "additionalProperties": false
                },
                {
                    "const": true
                }
            ]
        },
        "ffmc": {
            "oneOf": [
                {
                    "const": "Fine Fuel Moisture Code"
                },
                {
                    "type": "object",
                    "required": [
                        "name"
                    ],
                    "properties": {
                        "name": {
                            "const": "Fine Fuel Moisture Code"
                        }
                    },
                    "additionalProperties": false
                },
                {
                    "const": true
                }
            ]
        },
        "dmc": {
            "oneOf": [
                {
                    "const": "Duff Moisture Code"
                },
                {
                    "type": "object",
                    "required": [
                        "name"
                    ],
                    "properties": {
                        "name": {
                            "const": "Duff Moisture Code"
                        }
                    },
                    "additionalProperties": false
                },
                {
                    "const": true
                }
            ]
        },
        "dc": {
            "oneOf": [
                {
                    "const": "Drought Code"
                },
                {
                    "type": "object",
                    "required": [
                        "name"
                    ],
                    "properties": {
                        "name": {
                            "const": "Drought Code"
                        }
                    },
                    "additionalProperties": false
                },
                {
                    "const": true
                }
            ]
        }
    },
    "additionalProperties": {
        "title": "User-defined indices require all fields so they are properly interpreted",
        "type": "object",
        "required": [
            "name",
            "units",
            "height"
        ],
        "properties": {
            "name": {
                "type": "string"
            },
            "units": {
                "type": "string"
            },
            "height": {
                "type": "string"
            },
            "note": {
                "type": "string"
            }
        },
        "additionalProperties": false
    }
}
